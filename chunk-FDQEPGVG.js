import{a as j}from"./chunk-S62YOXFR.js";import{b as C,c as w,e as k,f as y,i as S,k as N,l as E,p as I,r as F}from"./chunk-URRA4EOY.js";import"./chunk-OV7F5RRE.js";import{Bb as v,Da as c,Hb as x,M as u,Oa as m,Q as d,R as f,Wa as h,da as p,ea as s,na as g,sb as b,va as n,wa as t,xa as l}from"./chunk-VG74EQIO.js";var M=(()=>{let e=class e{constructor(r,o,a){this.accounts=r,this.fb=o,this.router=a,this.form=this.fb.group({username:[""],password:[""],remember:[!1]})}loginHandler(){this.form.valid&&this.form.value.username&&this.form.value.password&&this.accounts.login(this.form.value.username,this.form.value.password).subscribe(r=>{this.accounts.token=r.token,this.accounts.loggedIn=!0,this.form.value.username&&this.form.value.remember&&this.accounts.saveToken(this.form.value.username,r.token),this.accounts.loggedIn&&this.router.navigate(["/"])})}ngAfterViewInit(){this.accounts.loggedIn&&this.router.navigate(["/"])}};e.\u0275fac=function(o){return new(o||e)(s(j),s(I),s(v))},e.\u0275cmp=d({type:e,selectors:[["app-login"]],standalone:!0,features:[h],decls:21,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","h-100","w-100"],[1,"card","login-box"],[1,"card-body"],[1,"card-title"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","formControlName","username","id","username",1,"form-control"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"form-check"],["for","remember",1,"form-check-label"],["type","checkbox","formControlName","remember","id","remember",1,"form-check-input"],[1,"card-footer"],[1,"btn","btn-primary",3,"click"]],template:function(o,a){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),m(4,"Login"),t(),n(5,"form",4),c("ngSubmit",function(){return a.loginHandler()}),n(6,"div",5)(7,"label",6),m(8," Username "),t(),l(9,"input",7),t(),n(10,"div",5)(11,"label",8),m(12," Password "),t(),l(13,"input",9),t(),n(14,"div",10)(15,"label",11),m(16," Remember me "),t(),l(17,"input",12),t()()(),n(18,"div",13)(19,"button",14),c("click",function(){return a.loginHandler()}),m(20,"Login"),t()()()()),o&2&&(p(5),g("formGroup",a.form))},dependencies:[F,S,w,C,k,y,N,E],styles:[".login-box[_ngcontent-%COMP%]{height:300px;width:400px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #000;margin-left:auto;margin-right:auto;padding:20px}"]});let i=e;return i})();var D=[{path:"login",component:M,data:{breadcrumbs:["accounts","login"]}}],O=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f({type:e}),e.\u0275inj=u({imports:[b,x.forChild(D)]});let i=e;return i})();export{O as AccountsModule};
