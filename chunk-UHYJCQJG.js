import{a}from"./chunk-7ITMQ6SW.js";import{L as i,O as l,tb as r,vb as p}from"./chunk-VG74EQIO.js";var u=(()=>{let e=class e{constructor(t){this.http=t,this.token="",this.loggedIn=!1,this.protocol=window.location.protocol,this.baseURL=a.baseURL.replace("http://","https://"),this.protocol==="http:"?this.baseURL=a.baseURL.replace("https://","http://"):this.baseURL=a.baseURL.replace("http://","https://")}login(t,o){this.loggedIn=!1;let n=new r;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),this.http.post(`${this.baseURL}/api-token-auth/`,{username:t,password:o},{headers:n})}saveToken(t,o){this.token=o,localStorage.setItem("catapult-login-token",o),localStorage.setItem("catapult-login-username",t)}logout(){this.token="",this.loggedIn=!1,localStorage.removeItem("catapult-login-token"),localStorage.removeItem("catapult-login-username")}loadToken(){this.token=localStorage.getItem("catapult-login-token")||"",console.log(this.token);let t=localStorage.getItem("catapult-login-username");this.token&&t&&(this.loggedIn=!0)}};e.\u0275fac=function(o){return new(o||e)(l(p))},e.\u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();export{u as a};
