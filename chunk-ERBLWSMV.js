import{a as M}from"./chunk-WIXEOZBU.js";import{b as C,c as w,e as y,f as k,i as S,k as N,l as E,p as I,r as F}from"./chunk-URRA4EOY.js";import"./chunk-7ITMQ6SW.js";import{Bb as b,Da as c,Hb as x,M as u,Oa as a,Q as d,R as f,Wa as h,da as p,ea as s,na as g,sb as v,va as n,wa as t,xa as l}from"./chunk-VG74EQIO.js";var j=(()=>{let e=class e{constructor(r,o,m){this.accounts=r,this.fb=o,this.router=m,this.form=this.fb.group({username:[""],password:[""],remember:[!1]})}loginHandler(){this.form.valid&&this.form.value.username&&this.form.value.password&&this.accounts.login(this.form.value.username,this.form.value.password).subscribe(r=>{this.accounts.token=r.token,this.accounts.loggedIn=!0,this.form.value.username&&this.form.value.remember&&this.accounts.saveToken(this.form.value.username,r.token),this.accounts.loggedIn&&this.router.navigate(["/"])})}ngAfterViewInit(){this.accounts.loggedIn&&this.router.navigate(["/"])}};e.\u0275fac=function(o){return new(o||e)(s(M),s(I),s(b))},e.\u0275cmp=d({type:e,selectors:[["app-login"]],standalone:!0,features:[h],decls:21,vars:1,consts:[[1,"login-page"],[1,"card","login-box"],[1,"card-body"],[1,"card-title"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","formControlName","username","id","username",1,"form-control"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"form-check"],["for","remember",1,"form-check-label"],["type","checkbox","formControlName","remember","id","remember",1,"form-check-input"],[1,"card-footer"],[1,"btn","btn-primary",3,"click"]],template:function(o,m){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),a(4,"Login"),t(),n(5,"form",4),c("ngSubmit",function(){return m.loginHandler()}),n(6,"div",5)(7,"label",6),a(8," Username "),t(),l(9,"input",7),t(),n(10,"div",5)(11,"label",8),a(12," Password "),t(),l(13,"input",9),t(),n(14,"div",10)(15,"label",11),a(16," Remember me "),t(),l(17,"input",12),t()()(),n(18,"div",13)(19,"button",14),c("click",function(){return m.loginHandler()}),a(20,"Login"),t()()()()),o&2&&(p(5),g("formGroup",m.form))},dependencies:[F,S,w,C,y,k,N,E],styles:[".login-box[_ngcontent-%COMP%]{height:300px;width:400px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #000;margin-left:auto;margin-right:auto;padding:20px}.login-page[_ngcontent-%COMP%]{height:calc(100vh - 64px);width:calc(100vw - 70px);overflow:auto;display:flex;justify-content:center;align-items:center}"]});let i=e;return i})();var D=[{path:"login",component:j,data:{breadcrumbs:["accounts","login"]}}],B=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f({type:e}),e.\u0275inj=u({imports:[v,x.forChild(D)]});let i=e;return i})();export{B as AccountsModule};
